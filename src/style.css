html, body, #app {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  background: #e5f3fa;
  min-height: 100vh;
  min-width: 100vw;
  overflow: hidden;
}

body {
  min-height: 100vh;
  min-width: 100vw;
  overflow: hidden;
}

#mainLayout {
  height: 100%;
  min-height: 100%;
  width: 100%;
  max-width: none !important;
  padding: 0 !important;
}

html, body {
  height: 100%;
  background: #e5f3fa;
}

.app-main-row {
  min-height: 100vh;
  height: 100%;
  background: #fff;
  border-radius: 0;
  box-shadow: none;
  overflow: hidden;
  flex-wrap: wrap;
}

.app-sidebar,
.app-list,
.app-detail {
  height: 100%;
  min-height: 100%;
  overflow-y: auto;
}

.bg-sidebar {
  background: linear-gradient(180deg, #eaf3fd 0%, #d0e6f8 70%);
  border-right: 1px solid #d7e3ee;
  min-height: 100%;
}
.app-sidebar {
  min-width: 180px;
  max-width: 260px;
}

#foldersList li {
  padding: 0.65rem 0.8rem;
  margin-bottom: 0.2rem;
  border-radius: 8px;
  font-weight: 500;
  display: flex;
  align-items: center;
  cursor: pointer;
  transition: background 0.12s;
}
#foldersList li.selected, #foldersList li:hover {
  background: #e1eefd;
}

#foldersList li .bi {
  margin-right: 0.7em;
  font-size: 1.2em;
}
#foldersList li .folder-delete {
  margin-left: auto;
  color: #d33232;
  font-size: 1.1em;
  display:none;
}
#foldersList li.selected .folder-delete, #foldersList li:hover .folder-delete {
  display:inline;
}

#foldersList .default-folder .bi {
  color: #5b9ff3;
}
#foldersList .custom-folder .bi {
  color: #21b573;
}
#foldersList .favorites-folder .bi {
  color: #f7b731;
}

.app-list {
  border-right: 1px solid #e4eaf1;
  background: #f5fafd;
}
.app-passwords-list {
  padding: 0.5rem 0.5rem 1.2rem 0.5rem;
}
.app-passwords-list li {
  background: #fff;
  border: none;
  border-radius: 10px;
  margin-bottom: 0.3rem;
  box-shadow: 0 1px 5px #b7d7f822;
  display: flex;
  align-items: center;
  cursor: pointer;
  transition: box-shadow 0.13s, background 0.1s;
  padding: 0.8rem 1rem 0.8rem 1.2rem;
  position: relative;
}
.app-passwords-list li.selected, .app-passwords-list li:hover {
  background: #e3f2fd;
  box-shadow: 0 2px 12px #b7d7f844;
}

.app-passwords-list li .pw-icon {
  font-size: 1.4em;
  margin-right: 0.85em;
}
.app-passwords-list li .item-title {
  font-weight: 600;
}
.app-passwords-list li .item-sub {
  font-size: 0.95em;
  color: #888;
}
.app-passwords-list li .pw-fav {
  color: #f7b731;
  margin-left: auto;
  font-size: 1.2em;
  cursor: pointer;
}
.app-passwords-list li .pw-fav.inactive {
  color: #d8d8d8;
}

.app-detail {
  min-height: 420px;
  min-width: 280px;
  overflow-y: auto;
  background: #fff;
  flex: 1 1 0;
  display: flex;
  flex-direction: column;
}
@media (max-width: 991px) {
  .app-sidebar { max-width: 100vw; }
  .app-list, .app-detail { min-height: 280px;}
}
@media (max-width: 767px) {
  .app-main-row { flex-direction: column; }
  .app-sidebar, .app-list, .app-detail { min-width:0; max-width:100vw; }
  .app-sidebar, .app-list, .app-detail { border-right:none!important; }
  .app-sidebar, .app-list, .app-detail { border-bottom: 1px solid #e4eaf1; }
  .app-detail { border-bottom:none; }
}
@media (max-width: 575px) {
  .app-main-row { border-radius: 0; }
  .app-detail { padding: 0 0.2rem;}
}

/* Details pane */
#detailPane .pw-icon {
  font-size: 2.9em;
  margin-bottom: 0.2em;
}
#detailPane .pw-actions {
  margin-top: 2em;
}
#detailPane .btn + .btn {
  margin-left: 0.85em;
}

/* Add/Edit Form */
#passwordForm input, #passwordForm textarea {
  font-size: 1.08em;
}
#passwordForm .form-label {
  font-size: 1.01em;
  font-weight: 500;
}

/* Hide scrollbars but allow scroll */
.app-sidebar nav, .app-list, .app-passwords-list {
  scrollbar-width: thin;
  scrollbar-color: #b4cbe9 #eaf3fd;
}
#authOverlay.d-none {
  pointer-events: none !important;
  opacity: 0 !important;
}

body.theme-light {
  background: #e5f3fa !important;
  color: #222 !important;
}
body.theme-dark {
  background: #181c1f !important;
  color: #eaf3fd !important;
}
body.theme-dark .bg-sidebar {
  background: linear-gradient(180deg, #232b33 0%, #181c1f 70%) !important;
  border-right: 1px solid #232b33 !important;
}
body.theme-dark .app-list,
body.theme-dark .app-detail {
  background: #232b33 !important;
  color: #eaf3fd !important;
}
body.theme-dark .bg-white,
body.theme-dark .card,
body.theme-dark .shadow,
body.theme-dark .shadow-lg,
body.theme-dark .modal-content {
  box-shadow: 0 2px 16px 0 #000a !important;
  background: #232b33 !important;
  color: #eaf3fd !important;
}
body.theme-dark .btn,
body.theme-dark .btn-primary,
body.theme-dark .btn-outline-primary,
body.theme-dark .btn-outline-secondary,
body.theme-dark .btn-outline-danger,
body.theme-dark .btn-outline-info {
  color: #eaf3fd !important;
  border-color: #5b9ff3 !important;
  background: transparent !important;
}
body.theme-dark .btn-primary,
body.theme-dark .btn-outline-primary:hover {
  background: #2563eb !important;
  color: #fff !important;
  border-color: #2563eb !important;
}
body.theme-dark .btn-outline-secondary {
  border-color: #888 !important;
}
body.theme-dark .btn-outline-secondary:hover {
  background: #888 !important;
  color: #fff !important;
}
body.theme-dark .btn-outline-danger {
  border-color: #e57373 !important;
  color: #e57373 !important;
}
body.theme-dark .btn-outline-danger:hover {
  background: #e57373 !important;
  color: #fff !important;
}
body.theme-dark .btn-outline-info {
  border-color: #64b5f6 !important;
  color: #64b5f6 !important;
}
body.theme-dark .btn-outline-info:hover {
  background: #64b5f6 !important;
  color: #fff !important;
}
body.theme-dark .list-group-item,
body.theme-dark .app-passwords-list li {
  background: #232b33 !important;
  color: #eaf3fd !important;
  border-color: #232b33 !important;
}
body.theme-dark .app-passwords-list li.selected,
body.theme-dark .app-passwords-list li:hover {
  background: #283142 !important;
  box-shadow: 0 2px 12px #0004 !important;
}
body.theme-dark .form-control,
body.theme-dark .form-select,
body.theme-dark textarea {
  background: #232b33 !important;
  color: #eaf3fd !important;
  border-color: #444 !important;
}
body.theme-dark .form-control:focus,
body.theme-dark .form-select:focus,
body.theme-dark textarea:focus {
  background: #232b33 !important;
  color: #fff !important;
  border-color: #5b9ff3 !important;
  box-shadow: 0 0 0 0.2rem rgba(91,159,243,0.25);
}
body.theme-dark .border-bottom {
  border-bottom: 1px solid #232b33 !important;
}
body.theme-dark .border-top {
  border-top: 1px solid #232b33 !important;
}
body.theme-dark .pw-icon,
body.theme.dark .bi,
body.theme-dark .bi-star-fill,
body.theme-dark .bi-trash,
body.theme-dark .bi-pencil,
body.theme-dark .bi-plus-lg,
body.theme-dark .bi-arrow-left-right {
  color: #5b9ff3 !important;
}
body.theme-dark .bi-star-fill.inactive {
  color: #888 !important;
}
body.theme-dark .item-title {
  color: #eaf3fd !important;
}
body.theme-dark .item-sub {
  color: #b0b8c1 !important;
}
body.theme-dark .text-muted,
body.theme-dark .small {
  color: #b0b8c1 !important;
}
body.theme-dark .modal-content,
body.theme-dark .bg-white {
  background: #232b33 !important;
  color: #eaf3fd !important;
}
body.theme-dark .shadow,
body.theme-dark .shadow-lg {
  box-shadow: 0 0 16px 0 #0008 !important;
}
body.theme-dark .bi-shield-lock-fill,
body.theme-dark .default-folder .bi {
  color: #5b9ff3 !important;
}
body.theme-dark .bi-star-fill,
body.theme-dark .favorites-folder .bi {
  color: #f7b731 !important;
}
body.theme-dark .custom-folder .bi {
  color: #21b573 !important;
}
body.theme-dark .bi-envelope {
  color: #64b5f6 !important;
}
body.theme-dark .bi-key {
  color: #e57373 !important;
}
body.theme-dark .bi-lock {
  color: #ba68c8 !important;
}
body.theme-dark .bi-person-badge {
  color: #ffd54f !important;
}
body.theme.dark .bi-globe {
  color: #4dd0e1 !important;
}
body.theme-dark .bi-credit-card-2-front {
  color: #ff8a65 !important;
}
body.theme-dark .bi-chat-square-text {
  color: #81c784 !important;
}
body.theme-dark .bi-box {
  color: #90caf9 !important;
}
#settingsBtn {
  background: none !important;
  border: none !important;
  box-shadow: none !important;
}
#settingsBtn:focus {
  outline: none !important;
  box-shadow: none !important;
}
body.theme-dark #settingsBtn .bi-gear {
  color: #5b9ff3 !important;
}
body.theme-dark input,
body.theme-dark textarea,
body.theme-dark select {
  background: #232b33 !important;
  color: #eaf3fd !important;
  border-color: #444 !important;
}
body.theme-dark input::placeholder,
body.theme.dark textarea::placeholder {
  color: #b0b8c1 !important;
  opacity: 1;
}
body.theme-dark label,
body.theme-dark .form-label {
  color: #b0b8c1 !important;
}

/* Sidebar button hover (dark mode) */
body.theme-dark #addFolderBtn:hover,
body.theme-dark #addFolderBtn:focus {
  background: #232b33 !important;
  color: #eaf3fd !important;
  border-color: #5b9ff3 !important;
}

/* Sidebar folder hover/selected (dark mode) */
body.theme-dark #foldersList li.selected,
body.theme-dark #foldersList li:hover {
  background: #232b33 !important;
  color: #eaf3fd !important;
}

/* Password list item hover/selected (dark mode) */
body.theme-dark .app-passwords-list li.selected,
body.theme-dark .app-passwords-list li:hover {
  background: #232b33 !important;
  color: #eaf3fd !important;
  box-shadow: 0 2px 12px #0004 !important;
}